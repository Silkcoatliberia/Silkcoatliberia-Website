// ===== NEWS DATA ===== //
const newsData = [
    {
        id: 1,
        title: "Historic Certification Ceremony Celebrates New Generation of Paint Professionals",
        excerpt: "Silkcoat Liberia CEO and government officials honor newly certified painters at grand ceremony, marking successful completion of intensive Turkish-led training program that sets new standards for Liberia's construction industry.",
        category: "Company News",
        date: "2025-01-23",
        images: [
            "images/news/news4/final_day.jpg",
            "public/images/4palace.png",
            "public/images/2travert.png"
        ],
        content: `
            <p>In a landmark event for Liberia's construction sector, Silkcoat Liberia hosted a prestigious certification ceremony celebrating the successful completion of its intensive four-day professional training program. The ceremony, attended by government officials and industry leaders, recognized a new generation of internationally certified paint application professionals.</p>
            
            <h4>Expert-Led Training Program</h4>
            <p>The comprehensive training program features:</p>
            <ul>
                <li>Hands-on technical training led by certified Turkish paint application specialists</li>
                <li>Advanced surface preparation techniques for Liberia's tropical climate</li>
                <li>Product knowledge sessions covering Silkcoat's entire paint range</li>
                <li>Best practices in color consultation and customer service</li>
                <li>Safety protocols and environmental compliance standards</li>
            </ul>
            
            <h4>Building Local Expertise</h4>
            <p>The workshop brings together Silkcoat's dedicated staff members and experienced local painters from across Monrovia. This knowledge transfer initiative aims to create a network of certified professionals who can deliver world-class paint application services throughout Liberia.</p>
            
            <p>"We're investing in people, not just products," explains the Training Director from Turkey. "By sharing our 40 years of paint manufacturing and application expertise, we're helping build Liberia's capacity for excellence in the construction sector."</p>
            
            <h4>Comprehensive Curriculum</h4>
            <p>The three-day intensive program covers multiple critical areas:</p>
            <ul>
                <li>Day 1: Surface analysis, preparation techniques, and primer application</li>
                <li>Day 2: Advanced application methods for decorative and specialty paints</li>
                <li>Day 3: Problem-solving, quality control, and customer consultation skills</li>
                <li>Day 4: Practical assessment and certification ceremony</li>
            </ul>
            
            <h4>Impact on Local Industry</h4>
            <p>This training initiative is expected to significantly impact Liberia's painting industry by establishing standardized quality benchmarks and professional practices. Participants will receive internationally recognized certification upon successful completion of the program.</p>
            
            <p>The workshop emphasizes practical, hands-on learning with real-world applications specific to Liberian building materials and environmental conditions. Participants are gaining skills that will immediately enhance their professional capabilities and career prospects.</p>
            
            <h4>Looking Forward</h4>
            <p>Silkcoat Liberia plans to make this training program an annual event, continuously updating local professionals with the latest techniques, products, and industry best practices. This commitment to ongoing education demonstrates the company's long-term investment in Liberia's development.</p>
        `
    },
    {
        id: 2,
        title: "Advanced Problem-Solving Workshop Concludes Third Day of Training",
        excerpt: "Silkcoat training participants master quality control techniques and professional troubleshooting methods as the intensive workshop prepares them for certification on the final day.",
        category: "Training & Development",
        date: "2025-01-22",
        images: [
            "images/news/news3/day3_1.png",
            "images/news/news3/day3_2.png",
            "images/news/news3/day3_3.jpeg",
            "images/news/news3/day3_4.png",
            "images/news/news3/day3_5.png"
        ],
        content: `
            <p>As the third day of Silkcoat Liberia's intensive training workshop concluded, participants demonstrated remarkable growth in their technical expertise and problem-solving capabilities. Turkish experts led comprehensive sessions focused on quality assurance, troubleshooting, and professional standards that will distinguish certified Silkcoat professionals in the marketplace.</p>
            
            <h4>Mastering Quality Control</h4>
            <p>Today's advanced training covered critical quality management areas:</p>
            <ul>
                <li>Surface inspection and assessment protocols before application</li>
                <li>Paint consistency testing and adjustment techniques</li>
                <li>Application quality checkpoints and verification methods</li>
                <li>Final inspection criteria and customer approval processes</li>
                <li>Documentation and warranty compliance procedures</li>
            </ul>
            
            <h4>Real-World Problem Solving</h4>
            <p>Participants engaged in intensive troubleshooting exercises addressing common challenges encountered in Liberia's construction environment. Turkish trainer Ayşe Demir presented real case studies from various climates and building types, challenging participants to diagnose issues and propose solutions.</p>
            
            <h5>Critical Issues Addressed:</h5>
            <ul>
                <li>Dealing with moisture-related paint failures in tropical climates</li>
                <li>Correcting surface preparation deficiencies after project commencement</li>
                <li>Managing color consistency across large projects</li>
                <li>Addressing customer concerns about finish quality and durability</li>
                <li>Remediation strategies for previously failed paint applications</li>
            </ul>
            
            <h4>Professional Standards and Ethics</h4>
            <p>A significant portion of today's program emphasized professional conduct and business ethics. Participants learned about:</p>
            <ul>
                <li>Accurate project estimation and transparent pricing</li>
                <li>Setting realistic customer expectations and timelines</li>
                <li>Proper product selection and honest recommendations</li>
                <li>Building long-term customer relationships through excellence</li>
                <li>Professional liability and quality guarantees</li>
            </ul>
            
            <h4>Customer Consultation Mastery</h4>
            <p>The afternoon session featured role-playing exercises where participants practiced customer consultation scenarios. Turkish experts evaluated communication skills, technical knowledge presentation, and professional demeanor.</p>
            
            <p>"Being technically excellent isn't enough," explained training coordinator Ibrahim Özkan. "Professionals must also communicate effectively with customers, understand their vision, and guide them to optimal solutions. Today's training developed these crucial soft skills."</p>
            
            <h4>Participant Progress Assessment</h4>
            <p>Throughout the day, trainers conducted informal assessments to gauge participant readiness for tomorrow's certification evaluation. The response has been overwhelmingly positive, with participants demonstrating strong grasp of technical content and practical applications.</p>
            
            <p>John Karnga, a veteran painter with 20 years of experience, reflected on the training: "These three days have revolutionized my understanding of professional painting. I thought I knew everything, but the Turkish experts showed me there's always more to learn. I'm excited about tomorrow's certification."</p>
            
            <h4>Preparation for Certification Day</h4>
            <p>Participants received comprehensive information about tomorrow's certification process, which will include:</p>
            <ul>
                <li>Practical demonstration of learned techniques</li>
                <li>Written assessment of technical knowledge</li>
                <li>Quality control and problem-solving scenarios</li>
                <li>Customer consultation role-play evaluation</li>
                <li>Final certification ceremony with special guests</li>
            </ul>
            
            <h4>Building a Professional Community</h4>
            <p>Beyond individual skill development, this training has fostered a sense of community among participants. Painters and Silkcoat staff who previously worked independently are now forming networks of mutual support and knowledge sharing.</p>
            
            <p>Tomorrow's certification ceremony will mark not just the end of formal training, but the beginning of an ongoing professional development journey for all participants. Silkcoat Liberia has committed to providing continuous support, advanced training opportunities, and a platform for certified professionals to grow their businesses.</p>
            
            <p>The ceremony will feature addresses from Silkcoat Liberia's CEO and distinguished government officials, recognizing the importance of professional skill development in Liberia's economic growth and construction sector advancement.</p>
        `
    },
    {
        id: 3,
        title: "Day Two: Mastering Decorative Paint Techniques at Silkcoat Workshop",
        excerpt: "Turkish experts demonstrate advanced decorative painting techniques as Liberian professionals dive deep into the art of creating stunning textured finishes and specialty coatings during the second day of intensive training.",
        category: "Training & Development",
        date: "2025-01-21",
        images: [
            "images/news/news2/day2_1.jpeg",
            "images/news/news2/day2_2.jpeg",
            "images/news/news2/day2_3.png",
            "images/news/news2/day2_4.jpeg"
        ],
        content: `
            <p>The second day of Silkcoat Liberia's professional training workshop showcased the artistic side of paint application, with Turkish master craftsmen demonstrating advanced decorative techniques that transform ordinary walls into stunning visual masterpieces.</p>
            
            <h4>Hands-On Decorative Training</h4>
            <p>Today's sessions focused on Silkcoat's premium decorative paint lines, with participants learning to create:</p>
            <ul>
                <li>Metallic finishes using Marmarito and Metalico paint systems</li>
                <li>Pearl and silk effects with Velvetto and Decortivo collections</li>
                <li>Textured applications including Travertino stone effects</li>
                <li>Multi-dimensional finishes that change with lighting conditions</li>
                <li>Color blending and custom shade development techniques</li>
            </ul>
            
            <h4>Turkish Expertise in Action</h4>
            <p>Master trainer Mehmet Yilmaz, with over 25 years of decorative painting experience, demonstrated intricate application techniques that had participants captivated. "These decorative finishes can transform any space from ordinary to extraordinary," Yilmaz explained while creating a stunning metallic accent wall.</p>
            
            <p>Participants worked in small groups, each practicing different techniques under the direct supervision of Turkish experts. The hands-on approach allowed for immediate feedback and skill refinement, with trainers providing personalized guidance to each participant.</p>
            
            <h5>Special Climate Considerations</h5>
            <p>A significant portion of today's training addressed Liberia's tropical climate challenges:</p>
            <ul>
                <li>Humidity management during decorative paint application</li>
                <li>Temperature control for optimal drying and curing</li>
                <li>Surface preparation specific to high-moisture environments</li>
                <li>Long-term maintenance of decorative finishes in tropical conditions</li>
            </ul>
            
            <h4>Participant Testimonials</h4>
            <p>"I've been painting for 15 years, but today I learned techniques I never knew existed," shared Moses Karpeh, a local painting contractor. "The Turkish experts are incredibly patient and knowledgeable. This training is changing how I see my profession."</p>
            
            <p>Sarah Jallah, a Silkcoat staff member, added: "Understanding these premium products at this depth gives us confidence to properly advise our customers. We're not just selling paint; we're offering complete decorative solutions."</p>
            
            <h4>Practical Business Applications</h4>
            <p>Beyond technical skills, today's training included valuable business insights:</p>
            <ul>
                <li>Pricing strategies for decorative painting projects</li>
                <li>Customer consultation and expectation management</li>
                <li>Portfolio development for showcasing decorative work</li>
                <li>Marketing specialized decorative services</li>
            </ul>
            
            <h4>Tomorrow's Focus</h4>
            <p>Day three will concentrate on problem-solving, quality control, and advanced troubleshooting techniques. Participants will learn to diagnose and correct common paint application issues while exploring innovative solutions for challenging projects.</p>
            
            <p>The momentum and enthusiasm continue to build as participants recognize the transformative impact this training will have on their professional capabilities and business opportunities.</p>
        `
    },
    
    {
        id: 4,
        title: "Silkcoat Liberia Launches Intensive Professional Training Workshop",
        excerpt: "Turkish paint experts arrive in Monrovia to conduct a comprehensive 3-day professional training program for Silkcoat staff and local painters, marking a new chapter in quality paint application standards in Liberia.",
        category: "Training & Development",
        date: "2025-01-20",
        images: [
            "images/news/news1/day1_1.png",
            "images/news/news1/day1_2.jpeg",
            "images/news/news1/day1_3.png",
            "images/news/news1/day1_4.jpeg"
        ],
        content: `
            <p>Silkcoat Liberia has commenced an ambitious professional training initiative, bringing expert trainers from the parent company in Turkey to Monrovia. This groundbreaking workshop represents the company's commitment to elevating paint application standards and technical expertise in Liberia's construction industry.</p>
            
            <h4>Expert-Led Training Program</h4>
            <p>The comprehensive training program features:</p>
            <ul>
                <li>Hands-on technical training led by certified Turkish paint application specialists</li>
                <li>Advanced surface preparation techniques for Liberia's tropical climate</li>
                <li>Product knowledge sessions covering Silkcoat's entire paint range</li>
                <li>Best practices in color consultation and customer service</li>
                <li>Safety protocols and environmental compliance standards</li>
            </ul>
            
            <h4>Building Local Expertise</h4>
            <p>The workshop brings together Silkcoat's dedicated staff members and experienced local painters from across Monrovia. This knowledge transfer initiative aims to create a network of certified professionals who can deliver world-class paint application services throughout Liberia.</p>
            
            <p>"We're investing in people, not just products," explains the Training Director from Turkey. "By sharing our 40 years of paint manufacturing and application expertise, we're helping build Liberia's capacity for excellence in the construction sector."</p>
            
            <h4>Comprehensive Curriculum</h4>
            <p>The three-day intensive program covers multiple critical areas:</p>
            <ul>
                <li>Day 1: Surface analysis, preparation techniques, and primer application</li>
                <li>Day 2: Advanced application methods for decorative and specialty paints</li>
                <li>Day 3: Problem-solving, quality control, and customer consultation skills</li>
                <li>Day 4: Practical assessment and certification ceremony</li>
            </ul>
            
            <h4>Impact on Local Industry</h4>
            <p>This training initiative is expected to significantly impact Liberia's painting industry by establishing standardized quality benchmarks and professional practices. Participants will receive internationally recognized certification upon successful completion of the program.</p>
            
            <p>The workshop emphasizes practical, hands-on learning with real-world applications specific to Liberian building materials and environmental conditions. Participants are gaining skills that will immediately enhance their professional capabilities and career prospects.</p>
            
            <h4>Looking Forward</h4>
            <p>Silkcoat Liberia plans to make this training program an annual event, continuously updating local professionals with the latest techniques, products, and industry best practices. This commitment to ongoing education demonstrates the company's long-term investment in Liberia's development.</p>
        `
    },
    {
        id: 5,
        title: "Proper Surface Preparation: Key to Long-Lasting Paint Jobs",
        excerpt: "Master the essential steps of surface preparation to ensure your paint projects deliver professional results that stand the test of time.",
        category: "How-To Guide",
        date: "2024-12-20",
        images: [
            "public/images/6pearl.png",
            "public/images/marm.png"
        ],
        content: `
            <p>The secret to a beautiful, long-lasting paint job isn't just in the paint itself – it's in the preparation. Our experts share essential surface preparation techniques for optimal results.</p>
            
            <h4>Why Preparation Matters</h4>
            <p>Proper surface preparation ensures:</p>
            <ul>
                <li>Better paint adhesion and durability</li>
                <li>Smoother, more professional finish</li>
                <li>Longer-lasting results with less maintenance</li>
                <li>Prevention of common paint problems like peeling and bubbling</li>
            </ul>
            
            <h4>Step-by-Step Preparation Guide</h4>
            
            <h5>Step 1: Clean the Surface</h5>
            <p>Remove all dirt, dust, grease, and mildew. In Liberia's humid climate, pay special attention to mold and mildew removal using appropriate cleaning solutions.</p>
            
            <h5>Step 2: Repair Damage</h5>
            <p>Fill cracks, holes, and imperfections with quality filler. Sand smooth once dry. For exterior surfaces in tropical climates, use weatherproof fillers.</p>
            
            <h5>Step 3: Sand the Surface</h5>
            <p>Sanding creates a slightly rough surface for better paint adhesion. Use appropriate grit sandpaper based on the surface condition.</p>
            
            <h5>Step 4: Prime as Needed</h5>
            <p>Primer is essential for:</p>
            <ul>
                <li>New, unpainted surfaces</li>
                <li>Dramatic color changes</li>
                <li>Surfaces with stains or water damage</li>
                <li>Porous materials like new plaster</li>
            </ul>
            
            <h5>Step 5: Final Inspection</h5>
            <p>Before painting, ensure the surface is completely dry, clean, and smooth. This final check prevents problems during application.</p>
            
            <h4>Climate Considerations</h4>
            <p>In Liberia's tropical climate:</p>
            <ul>
                <li>Allow extra drying time between preparation steps</li>
                <li>Avoid painting in direct sunlight or rain</li>
                <li>Use mold-resistant primers in humid areas</li>
                <li>Ensure surfaces are completely dry before priming or painting</li>
            </ul>
            
            <h4>Professional Support</h4>
            <p>For technical questions about surface preparation, contact our support team. We provide free consultation to ensure your project succeeds.</p>
        `
    },
    {
        id: 6,
        title: "Eco-Friendly Painting: Silkcoat's Commitment to Sustainability",
        excerpt: "Learn about our environmental initiatives and how choosing Silkcoat paints contributes to a healthier planet and cleaner indoor air quality.",
        category: "Sustainability",
        date: "2024-12-15",
        images: [
            "public/images/3pearly.png",
            "public/images/4palace.png",
            "images/Index/Excellence/excellence2.png"
        ],
        content: `
            <p>At Silkcoat Liberia, we believe that premium quality and environmental responsibility go hand in hand. Discover our commitment to sustainable practices and eco-friendly products.</p>
            
            <h4>Our Environmental Commitments</h4>
            
            <h5>Low VOC Formulations</h5>
            <p>All our interior paints feature low or zero VOC (Volatile Organic Compounds) content, ensuring:</p>
            <ul>
                <li>Healthier indoor air quality</li>
                <li>Reduced environmental impact</li>
                <li>Safer application for painters and residents</li>
                <li>Minimal odor during and after application</li>
            </ul>
            
            <h5>Sustainable Manufacturing</h5>
            <p>Our production processes prioritize:</p>
            <ul>
                <li>Energy-efficient manufacturing methods</li>
                <li>Waste reduction and recycling programs</li>
                <li>Water conservation initiatives</li>
                <li>Responsible sourcing of raw materials</li>
            </ul>
            
            <h5>Packaging Innovations</h5>
            <p>We're continuously improving our packaging to:</p>
            <ul>
                <li>Use recyclable materials wherever possible</li>
                <li>Reduce plastic content in our containers</li>
                <li>Minimize packaging waste</li>
                <li>Encourage container recycling and reuse</li>
            </ul>
            
            <h4>Benefits for Liberian Homes</h4>
            <p>Choosing eco-friendly paints offers specific advantages in Liberia:</p>
            <ul>
                <li>Better indoor air quality in humid tropical conditions</li>
                <li>Safer for families with children and elderly members</li>
                <li>Reduced environmental impact on local ecosystems</li>
                <li>Compliance with emerging environmental standards</li>
            </ul>
            
            <h4>Certifications and Standards</h4>
            <p>Our products meet or exceed:</p>
            <ul>
                <li>ISO 14001 Environmental Management Standards</li>
                <li>International VOC emission regulations</li>
                <li>Green building certification requirements</li>
            </ul>
            
            <h4>Join Our Green Initiative</h4>
            <p>We encourage customers to:</p>
            <ul>
                <li>Return empty paint containers for proper recycling</li>
                <li>Calculate paint quantities accurately to minimize waste</li>
                <li>Choose low-VOC options for interior projects</li>
                <li>Support sustainable building practices</li>
            </ul>
            
            <p>Together, we can create beautiful spaces while protecting Liberia's natural environment for future generations.</p>
        `
    }
];

// ===== NEWS MANAGER ===== //
const newsManager = {
    currentPage: null,
    currentNewsId: null,
    currentSlide: 0,
    slideInterval: null,

    init() {
        console.log('Initializing News Manager...');
        this.currentPage = this.detectPage();
        console.log('Detected page:', this.currentPage);
        
        if (this.currentPage === 'index') {
            this.loadIndexNews();
        } else if (this.currentPage === 'news') {
            this.setupNewsPage();
        }
    },

    detectPage() {
        const path = window.location.pathname;
        console.log('Current path:', path);
        
        if (path.includes('news.html')) return 'news';
        if (path.includes('index.html') || path === '/' || path === '' || path.endsWith('/')) return 'index';
        return null;
    },

    setupNewsPage() {
        console.log('Setting up news page...');
        
        // Check if there's a news ID in the URL
        const urlParams = new URLSearchParams(window.location.search);
        const newsId = parseInt(urlParams.get('id'));
        
        if (newsId) {
            // Show specific news article
            this.showNewsDetail(newsId);
        } else {
            // Show news grid
            this.showNewsGrid();
        }
        
        // Setup back button
        const backButton = document.getElementById('backToNews');
        if (backButton) {
            backButton.addEventListener('click', () => {
                this.showNewsGrid();
            });
        }
    },

    showNewsGrid() {
        console.log('Showing news grid...');
        
        // Clear URL parameter
        window.history.pushState({}, '', 'news.html');
        
        // Stop any running slideshow
        if (this.slideInterval) {
            clearInterval(this.slideInterval);
        }
        
        // Hide detail section, show grid section
        document.getElementById('newsDetailSection').style.display = 'none';
        document.getElementById('newsGridSection').style.display = 'block';
        document.getElementById('backButtonSection').style.display = 'block';
        
        // Load all news
        this.loadAllNews();
        
        // Scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' });
    },

    showNewsDetail(newsId) {
        console.log('Showing news detail for ID:', newsId);
        
        const news = newsData.find(n => n.id === newsId);
        if (!news) {
            console.error('News article not found:', newsId);
            this.showNewsGrid();
            return;
        }
        
        // Update URL without reload
        window.history.pushState({}, '', `news.html?id=${newsId}`);
        
        // Hide grid section, show detail section
        document.getElementById('newsGridSection').style.display = 'none';
        document.getElementById('backButtonSection').style.display = 'none';
        document.getElementById('newsDetailSection').style.display = 'block';
        
        // Update page title
        document.title = `${news.title} - Silkcoat | Liberia`;
        
        // Load news detail
        this.currentNewsId = newsId;
        document.getElementById('newsDetailTitle').textContent = news.title;
        document.getElementById('newsDate').innerHTML = `<i class="fas fa-calendar-alt me-2"></i>${this.formatDate(news.date)}`;
        document.getElementById('newsCategory').innerHTML = `<span class="news-category">${news.category}</span>`;
        document.getElementById('newsDetailBody').innerHTML = news.content;
        
        // Load images slideshow
        this.loadNewsSlideshow(news.images);
        
        // Load related news
        this.loadRelatedNews(newsId, news.category);
        
        // Setup share buttons
        this.setupShareButtons(news);
        
        // Scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        console.log('News detail loaded successfully');
    },

    loadIndexNews() {
        console.log('Loading index news...');
        const newsPreviewContainer = document.getElementById('newsPreview');
        if (!newsPreviewContainer) {
            console.error('News preview container not found!');
            return;
        }

        const latestNews = newsData.slice(0, 3);
        newsPreviewContainer.innerHTML = '';

        latestNews.forEach(news => {
            const col = document.createElement('div');
            col.className = 'col-lg-4 col-md-6 mb-4';
            col.innerHTML = `
                <div class="news-card">
                    <div class="news-card-image">
                        <img src="${news.images[0]}" alt="${news.title}" class="img-fluid" onerror="this.src='public/images/marm.png'">
                        <div class="news-category-badge">${news.category}</div>
                    </div>
                    <div class="news-card-content">
                        <div class="news-date">
                            <i class="fas fa-calendar-alt me-2"></i>${this.formatDate(news.date)}
                        </div>
                        <h5 class="news-card-title">${news.title}</h5>
                        <p class="news-card-excerpt">${news.excerpt}</p>
                        <a href="news.html?id=${news.id}" class="btn btn-outline-primary btn-sm">
                            Read More <i class="fas fa-arrow-right ms-2"></i>
                        </a>
                    </div>
                </div>
            `;
            newsPreviewContainer.appendChild(col);
        });
        console.log('Index news loaded successfully');
    },

    loadAllNews() {
        console.log('Loading all news...');
        const newsGrid = document.getElementById('newsGrid');
        if (!newsGrid) {
            console.error('News grid not found!');
            return;
        }

        newsGrid.innerHTML = '';

        newsData.forEach(news => {
            const col = document.createElement('div');
            col.className = 'col-lg-4 col-md-6 mb-4';
            col.innerHTML = `
                <div class="news-card h-100">
                    <div class="news-card-image">
                        <img src="${news.images[0]}" alt="${news.title}" class="img-fluid" onerror="this.src='public/images/marm.png'">
                        <div class="news-category-badge">${news.category}</div>
                    </div>
                    <div class="news-card-content">
                        <div class="news-date">
                            <i class="fas fa-calendar-alt me-2"></i>${this.formatDate(news.date)}
                        </div>
                        <h5 class="news-card-title">${news.title}</h5>
                        <p class="news-card-excerpt">${news.excerpt}</p>
                        <button class="btn btn-outline-primary btn-sm" onclick="newsManager.showNewsDetail(${news.id})">
                            Read More <i class="fas fa-arrow-right ms-2"></i>
                        </button>
                    </div>
                </div>
            `;
            newsGrid.appendChild(col);
        });
        console.log('All news loaded successfully');
    },

    loadNewsSlideshow(images) {
        console.log('Loading slideshow with images:', images);
        const slideshowContainer = document.getElementById('newsSlideshow');
        const dotsContainer = document.getElementById('newsSlideshowDots');
        
        if (!slideshowContainer || !dotsContainer) {
            console.error('Slideshow elements not found');
            return;
        }

        // Stop any existing slideshow
        if (this.slideInterval) {
            clearInterval(this.slideInterval);
        }

        // Clear both containers
        slideshowContainer.innerHTML = '';
        dotsContainer.innerHTML = '';
        this.currentSlide = 0;

        // Add slides first
        images.forEach((image, index) => {
            const slide = document.createElement('div');
            slide.className = `news-slide ${index === 0 ? 'active' : ''}`;
            slide.style.backgroundImage = `url('${image}')`;
            slideshowContainer.appendChild(slide);
        });

        // Add navigation arrows (only if more than 1 image)
        if (images.length > 1) {
            const prevArrow = document.createElement('button');
            prevArrow.className = 'news-slideshow-arrow prev';
            prevArrow.innerHTML = '<i class="fas fa-chevron-left"></i>';
            prevArrow.addEventListener('click', () => {
                this.prevSlide(images.length);
                this.resetSlideshow();
            });
            slideshowContainer.appendChild(prevArrow);

            const nextArrow = document.createElement('button');
            nextArrow.className = 'news-slideshow-arrow next';
            nextArrow.innerHTML = '<i class="fas fa-chevron-right"></i>';
            nextArrow.addEventListener('click', () => {
                this.nextSlide(images.length);
                this.resetSlideshow();
            });
            slideshowContainer.appendChild(nextArrow);
        }

        // Add dots to separate container
        images.forEach((image, index) => {
            const dot = document.createElement('span');
            dot.className = `dot ${index === 0 ? 'active' : ''}`;
            dot.setAttribute('data-slide', index);
            dot.addEventListener('click', () => {
                this.goToSlide(index);
                this.resetSlideshow();
            });
            dotsContainer.appendChild(dot);
        });

        // Start auto-slideshow if more than 1 image
        if (images.length > 1) {
            this.startSlideshow(images.length);
        }
        
        console.log('Slideshow loaded with', images.length, 'images');
    },

    startSlideshow(totalSlides) {
        this.slideInterval = setInterval(() => {
            this.nextSlide(totalSlides);
        }, 4000);
    },

    resetSlideshow() {
        if (this.slideInterval) {
            clearInterval(this.slideInterval);
            const slides = document.querySelectorAll('.news-slide');
            this.startSlideshow(slides.length);
        }
    },

    nextSlide(totalSlides) {
        const nextIndex = (this.currentSlide + 1) % totalSlides;
        this.goToSlide(nextIndex);
    },

    prevSlide(totalSlides) {
        const prevIndex = (this.currentSlide - 1 + totalSlides) % totalSlides;
        this.goToSlide(prevIndex);
    },

    goToSlide(index) {
        const slides = document.querySelectorAll('.news-slide');
        const dots = document.querySelectorAll('.news-slideshow-dots .dot');

        if (slides[this.currentSlide]) {
            slides[this.currentSlide].classList.remove('active');
        }
        if (dots[this.currentSlide]) {
            dots[this.currentSlide].classList.remove('active');
        }

        this.currentSlide = index;

        if (slides[this.currentSlide]) {
            slides[this.currentSlide].classList.add('active');
        }
        if (dots[this.currentSlide]) {
            dots[this.currentSlide].classList.add('active');
        }
    },

    loadRelatedNews(currentNewsId, category) {
        const relatedContainer = document.getElementById('relatedNews');
        if (!relatedContainer) return;

        const related = newsData
            .filter(n => n.id !== currentNewsId && n.category === category)
            .slice(0, 2);

        if (related.length === 0) {
            // If no related news in same category, show latest news
            const latest = newsData.filter(n => n.id !== currentNewsId).slice(0, 2);
            related.push(...latest);
        }

        relatedContainer.innerHTML = '';

        related.forEach(news => {
            const col = document.createElement('div');
            col.className = 'col-md-6 mb-3';
            col.innerHTML = `
                <div class="related-news-card">
                    <img src="${news.images[0]}" alt="${news.title}" class="img-fluid" onerror="this.src='public/images/marm.png'">
                    <div class="related-news-content">
                        <h6>${news.title}</h6>
                        <button class="btn btn-sm btn-outline-primary" onclick="newsManager.showNewsDetail(${news.id})">Read More</button>
                    </div>
                </div>
            `;
            relatedContainer.appendChild(col);
        });
    },

    setupShareButtons(news) {
        const url = encodeURIComponent(window.location.href);
        const title = encodeURIComponent(news.title);

        const facebookBtn = document.getElementById('shareFacebook');
        const twitterBtn = document.getElementById('shareTwitter');
        const whatsappBtn = document.getElementById('shareWhatsapp');
        const linkedinBtn = document.getElementById('shareLinkedin');

        if (facebookBtn) {
            facebookBtn.href = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
        }
        if (twitterBtn) {
            twitterBtn.href = `https://twitter.com/intent/tweet?url=${url}&text=${title}`;
        }
        if (whatsappBtn) {
            whatsappBtn.href = `https://wa.me/?text=${title}%20${url}`;
        }
        if (linkedinBtn) {
            linkedinBtn.href = `https://www.linkedin.com/sharing/share-offsite/?url=${url}`;
        }
    },

    formatDate(dateString) {
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        return new Date(dateString).toLocaleDateString('en-US', options);
    }
};

// Initialize news manager when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    newsManager.init();
});